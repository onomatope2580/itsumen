## アプリケーション名

いつメン麻雀広場

## アプリケーション概要

- 点数と順位の管理機能
- 過去一覧と日毎の詳細閲覧機能
- コメント機能

## 本番環境URL
https://itsumen.herokuapp.com/

## 制作背景

大学時代の仲の良い友人3人と月に数回、オンライン対戦で麻雀をする会を開催しています。天鳳というWebサイトを使用するのですが、そのサイトには、数多くいるユーザーの中で、自分たち4人の対戦結果だけをまとめて保存しておく機能がありません。なので今までは、友人の1人が対戦結果を集計し、メンバー全員にその都度LINEで送るという方法を取っていました。しかし、このやり方には問題が3つありました。1つめは、集計してくれる友人に大きな負担がかかる、という点です。2つめは、今までのトータル成績を簡単に知ることができない、という点です。3つめは、対戦が面白くなるように、その日の結果に応じて後日に罰ゲームをすることになっているのですが、誰がどの日の罰ゲームをやっていないかがわからなくなる、という点です。メンバー全員の問題を解決すべく、今回のアプリケーションを作成し、対戦結果を管理しようと考えました。

## 目指したもの

メンバー全員の課題解決（具体的には以下の通り）
- 対戦結果の集計と周知に手間がかからない。
- 個人の過去のトータル成績を簡単に見ることができる。（具体的には合計点と平均順位）
- 罰ゲームの管理ができる。

## アプリケーションの要件

### 点数と順位の管理機能について

- 目的 :
一回の対戦ごとの結果を入力でき、アプリケーション内で保存できる。

- 詳細 :
ブラウザ上で点数を入力できる。入力した点数に応じて順位が自動で表示される。点数と順位が保存される。

- ストーリー :
天鳳でオンライン対戦を行う際、別タブにてこのアプリケーションの入力画面を開いておく。一回の対戦が終了したら、タブを切り替えて全員の点数を入力し保存する。結果の周知については、各自このアプリケーションを開くことで確認できる。

### 過去一覧と日毎の詳細閲覧機能について

- 目的 :
保存した点数を自動で集計し、過去の結果一覧及び日ごとの結果詳細が閲覧できる。

- 詳細 :
一覧ページのボタンから遷移したページにて、日付と天鳳内でのルーム番号を入力することで、新規の対戦枠を作成できる。一覧ページでは、日付ごとの合計点を一覧表示する。一覧ページでは、各自の過去全ての合計点数と平均順位を表示する。日付をクリックすると、その日の対戦の詳細ページへ遷移する。対戦の詳細ページにて、一回の対戦の点数が入力できる。不正を防ぐため、一度入力した結果は、全て編集や削除をすることができない。

- ストーリー :
一覧ページのボタンから、新規対戦枠を作成する。新規に作成した対戦枠の日付から、その日の詳細ページへ遷移する。詳細ページのボタンから、一回の対戦ごとの点数を入力する。過去の合計成績は一覧ページで確認することができる。

### コメント機能について

- 目的 :
罰ゲームの管理ができるようになる。また、役満が出た際の記録などもつけられる。

- 詳細 :
一覧ページにて、日ごとのコメントを入力、保存、編集できる。コメントの内容は各自の任意とする。

- ストーリー :
罰ゲームを行った場合などに「済」などのコメントを入れ、不履行の管理を行える。また、役満や希少な役が出た際は、コメントにて内容を残すことができる。

## 今後実装予定の機能（メンバーから要請があった場合）

- 個人詳細ページ管理機能 :
どの順位に何回なったかを見ることができる。過去最高点数、過去最低点数を見ることができる。上がった役の記録がつけられる。など

- 写真（牌譜）投稿機能 :
珍しい役や役満を上がった際に、そのときの様子をGyazoなどで撮影して投稿できる。

- スクレイピング機能 :
可能であれば、天鳳からその日の対戦結果をスクレイピングして、アプリケーションに反映させる。

## ER図

[![Image from Gyazo](https://i.gyazo.com/1f6ed5f5b192a9503418a60a3aa0ae96.png)](https://gyazo.com/1f6ed5f5b192a9503418a60a3aa0ae96)

## ローカル環境

- ruby '2.6.5'
- rails '6.0.0'
- db 'mysql2'